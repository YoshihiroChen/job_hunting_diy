<div class="container mt-4">

  <!-- 页面标题 -->
  <h1 class="text-center mb-4">CI/CD（持续集成与持续交付）基础知识指南</h1>

  <!-- 什么是CI/CD -->
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body p-4">

          <h2 class="card-title mb-4">什么是CI/CD？</h2>

          <p>CI/CD 是现代软件开发中提升交付效率和质量的关键流程，是“持续集成（CI：Continuous Integration）”与“持续交付 / 部署（CD：Continuous Delivery / Deployment）”的合称。</p>

          <p>它通过自动化构建、测试、部署等流程，实现代码从开发到上线的快速、稳定、高频率交付。</p>

          <p>CI/CD 是 DevOps 文化的核心组成部分，广泛应用于 Web 开发、SaaS平台、App开发、微服务架构等场景。</p>

        </div>
      </div>
    </div>
  </div>

  <!-- CI与CD的基本概念与差异 -->
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body p-4">

          <h2 class="card-title mb-4">CI 与 CD 的区别</h2>

          <ul>
            <li><strong>CI（持续集成）：</strong> 指每次代码提交后自动构建与测试，确保系统随时保持在可运行状态</li>
            <li><strong>CD（持续交付）：</strong> 指将通过测试的代码自动部署到“预发布环境”，可随时手动上线</li>
            <li><strong>CD（持续部署）：</strong> 指测试通过后直接自动部署到生产环境，实现完全无人介入</li>
          </ul>

          <p class="mt-3">CI 关注“开发→测试”流程，CD 关注“测试→上线”流程。</p>

        </div>
      </div>
    </div>
  </div>

  <!-- CI/CD的一般流程与工具链 -->
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body p-4">

          <h2 class="card-title mb-4">CI/CD的一般流程与工具</h2>

          <ul>
            <li><strong>代码提交：</strong> 开发者将代码推送至 Git 仓库（如 GitHub、GitLab）</li>
            <li><strong>自动构建：</strong> 使用工具（如 GitHub Actions、Jenkins）自动编译、依赖安装</li>
            <li><strong>自动测试：</strong> 运行单元测试、集成测试、Lint检查等</li>
            <li><strong>部署流程：</strong> 将通过测试的版本部署到测试 / 预生产 / 生产环境</li>
            <li><strong>监控与回滚：</strong> 上线后配合监控系统（如 Sentry、Datadog），支持失败自动回滚</li>
          </ul>

          <p class="mt-3">通过“每次提交即验证、每次合并即部署”的方式，实现开发与运维的一体化。</p>

        </div>
      </div>
    </div>
  </div>

  <!-- CI/CD的优点与挑战 -->
  <div class="row mb-5">
    <div class="col-md-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body p-4">

          <h2 class="card-title mb-4">CI/CD的优点与注意事项</h2>

          <table class="table table-bordered">
            <thead class="table-light">
              <tr>
                <th>优点</th>
                <th>说明</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>减少人为错误</td>
                <td>通过自动化流程避免“部署手抖”或忘记操作</td>
              </tr>
              <tr>
                <td>提高上线频率</td>
                <td>支持每天多次上线，快速响应用户反馈</td>
              </tr>
              <tr>
                <td>提升代码质量</td>
                <td>强制代码通过测试，确保基本功能稳定</td>
              </tr>
              <tr>
                <td>强化团队协作</td>
                <td>每次提交自动验证，便于多人协作与持续改进</td>
              </tr>
            </tbody>
          </table>

          <h4 class="mt-4">挑战与注意点：</h4>
          <ul>
            <li>需要前期设计良好的测试与部署策略</li>
            <li>部分部署过程需考虑权限、凭证、环境隔离</li>
            <li>生产环境自动部署需配合完善监控与回滚机制</li>
          </ul>

        </div>
      </div>
    </div>
  </div>

  <!-- 页面末尾返回按钮 -->
  <div class="text-center mt-4">
    <%= link_to "返回上一页面", params[:from] || root_path, class: "btn btn-secondary", onclick: "forceBackWithReload(event)" %>
  </div>

</div>
